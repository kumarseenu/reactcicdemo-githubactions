name: deploy app
on: push
jobs:
   test:
     runs-on: ubuntu-latest
     steps:
     - name: get code
       uses: actions/checkout@v4
       #run: |
           # echo "clone repo on remote server"
           # echo "${{toJson(github)}}"
           # git clone https://github.com/${{github.repository}}.git myfiles
           # cd myfiles && ls
    - name: setup node js
      uses: actions/setup-node@v4
      with:
        node-version: '22'
    
    - name: print node version
        run: |
            echo "node version is $(node -v)"
            echo "npm version is $(npm -v)"
    - name: install dependencies
        run: |
            echo "installing dependencies"
            npm install
    - name: run tests
        run: |
            echo "running tests"
            npm run test
    - name: complete job
        run: echo "job completed"